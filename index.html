<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Luis, Gabriel Isaac M.</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="manifest" href="/site.webmanifest"/>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #3e2723, #5d4037, #3e2723);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #d7ccc8;
            font-family: 'Cormorant Garamond', serif;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background: linear-gradient(145deg, #4e342e, #3e2723);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5), 
                        0 0 0 2px #d4af37, 
                        0 0 0 6px #5d4037;
            overflow: hidden;
            position: relative;
            margin: 20px;
            border: 1px solid #8d6e63;
        }
        
        .royal-border {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
            border: 12px solid transparent;
            border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='75' height='75' viewBox='0 0 100 100'%3E%3Cpath d='M0,0 L100,0 L100,100 L0,100 Z' fill='none' stroke='%23d4af37' stroke-width='4' stroke-dasharray='10,10'/%3E%3C/svg%3E") 30 stretch;
        }
        
        .header {
            background: linear-gradient(135deg, #5d4037, #4e342e, #5d4037);
            color: #efebe9;
            padding: 25px;
            text-align: center;
            border-bottom: 3px solid #d4af37;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            margin-bottom: 10px;
            letter-spacing: 2px;
            font-weight: 700;
            color: #d4af37;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }
        
        .header h2 {
            font-size: 1.6rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: #efebe9;
        }
        
        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23d4af3722' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        
        .class-info {
            background: linear-gradient(to right, #5d4037, #4e342e);
            padding: 16px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #d4af37;
        }
        
        .class-section {
            font-size: 1.2rem;
            font-weight: bold;
            color: #d4af37;
            letter-spacing: 0.5px;
        }
        
        .teacher {
            font-size: 1.1rem;
            font-weight: 600;
            color: #efebe9;
            background: rgba(121, 85, 72, 0.7);
            padding: 8px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            border: 1px solid #d4af37;
        }
        
        .download-all-btn {
            background: linear-gradient(to right, #d4af37, #b8860b);
            color: #3e2723;
            border: none;
            border-radius: 30px;
            padding: 12px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 20px;
            font-family: 'Cormorant Garamond', serif;
        }
        
        .download-all-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            background: linear-gradient(to right, #b8860b, #d4af37);
        }
        
        .schedule-container {
            padding: 25px;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%234e342e' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 0 auto;
            background: rgba(76, 61, 53, 0.7);
            border: 2px solid #d4af37;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        th, td {
            padding: 14px 12px;
            text-align: center;
            vertical-align: middle;
            border-right: 1px solid #6d4c41;
            border-bottom: 1px solid #6d4c41;
            transition: all 0.3s ease;
        }
        
        th {
            background: linear-gradient(to bottom, #5d4037, #4e342e);
            color: #d4af37;
            font-weight: 600;
            font-size: 1.1rem;
            font-family: 'Cinzel', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid #d4af37;
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        td:last-child, th:last-child {
            border-right: none;
        }
        
        .time-slot {
            background: linear-gradient(to right, #4e342e, #5d4037);
            font-weight: 600;
            width: 180px;
            color: #d4af37;
            font-family: 'Cinzel', serif;
        }
        
        .subject-cell {
            font-weight: 500;
            color: #efebe9;
            position: relative;
            background: rgba(121, 85, 72, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .subject-cell:hover {
            background: rgba(141, 110, 99, 0.4);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }
        
        .subject-cell.has-note::after {
            content: "üìù";
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.9rem;
        }
        
        .subject-cell.has-drawing::after {
            content: "üé®";
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.9rem;
        }
        
        .subject-name {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 1.05rem;
            color: #ffd54f;
        }
        
        .teacher-name {
            display: block;
            font-size: 0.95rem;
            font-style: italic;
            color: #d7ccc8;
        }
        
        .note-timestamp {
            font-size: 0.7rem;
            color: #bcaaa4;
            display: block;
            margin-top: 5px;
            font-style: italic;
        }
        
        .empty-cell {
            background: rgba(76, 61, 53, 0.5);
        }
        
        .royal-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            opacity: 0.1;
            color: #d4af37;
        }
        
        .footer {
            background: linear-gradient(to right, #5d4037, #4e342e);
            color: #d7ccc8;
            padding: 25px 20px;
            display: flex;
            justify-content: center;
            border-top: 3px solid #d4af37;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .watermark {
            position: absolute;
            bottom: 20px;
            right: 20px;
            opacity: 0.05;
            font-size: 12rem;
            font-weight: bold;
            color: #d4af37;
            pointer-events: none;
            font-family: 'Cinzel', serif;
            transform: rotate(-15deg);
        }
        
        .crown {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3rem;
            color: #d4af37;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            z-index: 5;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: linear-gradient(145deg, #4e342e, #3e2723);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5), 
                        0 0 0 2px #d4af37, 
                        0 0 0 6px #5d4037;
            width: 90%;
            max-width: 900px;
            padding: 25px;
            position: relative;
            animation: modalSlide 0.4s ease-out;
            display: flex;
            flex-direction: column;
            height: 80vh;
            color: #efebe9;
        }
        
        @keyframes modalSlide {
            0% { transform: translateY(-50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #d4af37;
        }
        
        .modal-title {
            color: #d4af37;
            font-size: 1.4rem;
            font-weight: 700;
            font-family: 'Cinzel', serif;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #d4af37;
            transition: transform 0.2s;
        }
        
        .close-btn:hover {
            transform: rotate(90deg);
            color: #ffd54f;
        }
        
        .note-textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 2px solid #8d6e63;
            border-radius: 8px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 20px;
            transition: border-color 0.3s;
            background: rgba(121, 85, 72, 0.3);
            color: #efebe9;
            font-family: 'Cormorant Garamond', serif;
        }
        
        .note-textarea:focus {
            border-color: #d4af37;
            outline: none;
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
        
        .timestamp-info {
            font-size: 0.9rem;
            margin-bottom: 10px;
            color: #d4af37;
            font-weight: 500;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid #8d6e63;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            color: #bcaaa4;
        }
        
        .tab.active {
            border-bottom: 3px solid #d4af37;
            color: #d4af37;
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
            flex: 1;
            overflow: hidden;
        }
        
        .tab-content.active {
            display: flex;
            flex-direction: column;
        }
        
        .drawing-container {
            display: flex;
            flex-direction: column;
            flex: 1; 
            border: 2px solid #8d6e63;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            background: rgba(121, 85, 72, 0.3);
        }
        
        .canvas-wrapper {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: rgba(76, 61, 53, 0.5);
        }
        
        #drawingCanvas {
            background-color: rgba(255, 255, 255, 0.1);
            cursor: crosshair;
            touch-action: none;
            width: 100%;
            height: 100%;
        }
        
        .drawing-tools {
            display: flex;
            align-items: center;
            padding: 10px;
            background: linear-gradient(to right, #5d4037, #4e342e);
            border-top: 1px solid #8d6e63;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .tool-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(121, 85, 72, 0.5);
            border: 2px solid #8d6e63;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #d4af37;
        }
        
        .tool-btn.active {
            border-color: #d4af37;
            background-color: rgba(212, 175, 55, 0.2);
            transform: scale(1.1);
        }
        
        .tool-btn i {
            font-size: 18px;
            color: #d4af37;
        }
        
        .color-picker {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            padding: 0;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid #8d6e63;
        }
        
        .color-picker::-webkit-color-swatch {
            border: none;
            border-radius: 50%;
            padding: 0;
        }
        
        .color-picker::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        
        .line-width {
            width: 120px;
        }
        
        .tool-label {
            font-weight: 500;
            color: #bcaaa4;
            margin-right: 5px;
        }
        
        .modal-actions {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            padding-top: 15px;
            border-top: 1px solid #8d6e63;
            margin-top: auto;
        }
        
        .modal-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cormorant Garamond', serif;
        }
        
        .save-btn {
            background: linear-gradient(to right, #d4af37, #b8860b);
            color: #3e2723;
        }
        
        .save-btn:hover {
            background: linear-gradient(to right, #b8860b, #d4af37);
            transform: translateY(-2px);
        }
        
        .download-btn {
            background: linear-gradient(to right, #8d6e63, #6d4c41);
            color: #efebe9;
        }
        
        .download-btn:hover {
            background: linear-gradient(to right, #6d4c41, #8d6e63);
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .header h2 { font-size: 1.3rem; }
            th, td { padding: 10px 8px; font-size: 0.9rem; }
            .time-slot { width: 120px; }
            .subject-name { font-size: 0.95rem; }
            .teacher-name { font-size: 0.85rem; }
            .class-info { flex-direction: column; gap: 12px; text-align: center; }
            .download-all-btn { margin-left: 0; margin-top: 10px; }
        }
        
        @media (max-width: 576px) {
            body { padding: 10px; }
            .container { margin: 10px; }
            .header { padding: 15px; }
            .header h1 { font-size: 1.5rem; }
            .header h2 { font-size: 1.1rem; }
            .schedule-container { padding: 15px; }
            th, td { padding: 8px 6px; font-size: 0.8rem; }
            .time-slot { width: 100px; }
            .subject-name { font-size: 0.85rem; }
            .teacher-name { font-size: 0.75rem; }
            .crown { font-size: 2rem; top: -15px; }
            .modal-content { height: 70vh; }
            .modal-actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="royal-border"></div>
        <div class="crown">‚ôî</div>
        <div class="watermark">Cirera</div>
        
        <div class="header">
            <h1>CTK SCHEDULE G11</h1>
            <h2>ROOM 202 - Academic Year 2025</h2>
        </div>
        
        <div class="class-info">
            <div class="class-section">
                ROOM 202 - CLASS SCHEDULE
            </div>
            <div class="download-container">
                <button class="download-all-btn" id="downloadAllNotes">
                    <i class="fas fa-download"></i> Download All Notes
                </button>
            </div>
        </div>
        
        <div class="schedule-container">
            <table>
                <thead>
                    <tr>
                        <th>TIME</th>
                        <th>MONDAY</th>
                        <th>TUESDAY</th>
                        <th>WEDNESDAY</th>
                        <th>THURSDAY</th>
                        <th>SATURDAY</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="time-slot">8:00 am - 10:00 am</td>
                        <td class="subject-cell" data-day="Monday" data-time="8:00-10:00">
                            <span class="subject-name">GENERAL MATH</span>
                            <span class="teacher-name">L. Domdom | TechPro</span>
                        </td>
                        <td class="subject-cell" data-day="Tuesday" data-time="8:00-10:00">
                            <span class="subject-name">Food and Beverage Services (NCII)</span>
                            <span class="teacher-name">Peptic Bulgar | Room Techpro</span>
                        </td>
                        <td class="subject-cell" data-day="Wednesday" data-time="8:00-10:00">
                            <span class="subject-name">GENERAL MATH</span>
                            <span class="teacher-name">L. Domdom | TechPro</span>
                        </td>
                        <td class="subject-cell" data-day="Thursday" data-time="8:00-10:00">
                            <span class="subject-name">Food and Beverage Services (NCII)</span>
                            <span class="teacher-name">Peptic Bulgar | Room Techpro</span>
                        </td>
                        <td class="subject-cell" data-day="Saturday" data-time="8:00-10:00">
                            <span class="subject-name">I</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="time-slot">10:00 am - 12:00 pm</td>
                        <td class="subject-cell" data-day="Monday" data-time="10:00-12:00">
                            <span class="subject-name">Effective Communication/Ma bisang Komunikasyon</span>
                            <span class="teacher-name">A. Moris | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Tuesday" data-time="10:00-12:00">
                            <span class="subject-name">Life and Career Skills</span>
                            <span class="teacher-name">E. Masong | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Wednesday" data-time="10:00-12:00">
                            <span class="subject-name">Effective Communication/Mab isang Komunikasyon</span>
                            <span class="teacher-name">A. Moris | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Thursday" data-time="10:00-12:00">
                            <span class="subject-name">Life and Career Skills</span>
                            <span class="teacher-name">E. Masong | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Saturday" data-time="10:00-12:00">
                            <span class="subject-name">Introduction to Organizational Management</span>
                            <span class="teacher-name">Engr. Lanie Domdom | Academic Accountant</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="time-slot">12:00 pm - 1:00 pm</td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                    </tr>
                    <tr>
                        <td class="time-slot">1:00 pm - 3:00 pm</td>
                        <td class="subject-cell" data-day="Monday" data-time="1:00-3:00">
                            <span class="subject-name">Pag-earal ng Kasaysayan at Lipunang Pilipino</span>
                            <span class="teacher-name">S. Galieto | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Tuesday" data-time="1:00-3:00">
                            <span class="subject-name">GENERAL SCIENCE i</span>
                            <span class="teacher-name">L. Domdom | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Wednesday" data-time="1:00-3:00">
                            <span class="subject-name">Pag-earal ng Kasaysayan at Lipunang Pilipino</span>
                            <span class="teacher-name">S. Galieto | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Thursday" data-time="1:00-3:00">
                            <span class="subject-name">GENERAL SCIENCE i</span>
                            <span class="teacher-name">L. Domdom | TECHPRO</span>
                        </td>
                        <td class="subject-cell" data-day="Saturday" data-time="1:00-3:00">
                            <span class="subject-name">Introduction to Organizational Management</span>
                            <span class="teacher-name">Engr. Lanie Domdom | Academic Accountant</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="time-slot">3:00 - 5:00 pm</td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                        <td class="subject-cell" data-day="Wednesday" data-time="3:00-5:00">
                            <span class="subject-name">PHYSICAL SCIENCE</span>
                            <span class="teacher-name">K. Alangeao | HUMSS12/GAS 12</span>
                        </td>
                        <td class="subject-cell" data-day="Thursday" data-time="3:00-5:00">
                            <span class="subject-name">PHYSICAL SCIENCE</span>
                            <span class="teacher-name">K. Alangeao | HUMSS12/GAS 12</span>
                        </td>
                        <td class="empty-cell"><div class="royal-seal">‚ú§</div></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="footer">
            <p>Royal Academy of Sciences & Arts ‚Ä¢ Established 1742</p>
        </div>
    </div>
    
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Subject Notes</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="timestamp-info" id="timestampInfo">
                Last saved: <span id="lastSavedTime">Never</span>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="text">Text Note</div>
                <div class="tab" data-tab="drawing">Canvas</div>
            </div>
            
            <div class="tab-content active" id="textTab">
                <textarea class="note-textarea" id="noteTextarea" placeholder="Enter your royal notes here..."></textarea>
            </div>
            
            <div class="tab-content" id="drawingTab">
                <div class="drawing-container" id="drawingContainer">
                    <div class="canvas-wrapper">
                        <canvas id="drawingCanvas"></canvas>
                    </div>
                    <div class="drawing-tools">
                        <div class="tool-group">
                            <div class="tool-btn active" id="penTool" title="Pen">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="tool-btn" id="eraserTool" title="Eraser">
                                <i class="fas fa-eraser"></i>
                            </div>
                        </div>
                        
                        <div class="tool-group">
                            <span class="tool-label">Color:</span>
                            <input type="color" id="drawingColor" class="color-picker" value="#d4af37">
                        </div>
                        
                        <div class="tool-group">
                            <span class="tool-label">Size:</span>
                            <input type="range" id="lineWidth" class="line-width" min="1" max="20" value="5">
                        </div>
                        
                        <div class="tool-group">
                            <button id="clearCanvas" class="tool-btn" title="Clear Canvas">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="modal-btn save-btn" id="saveNote">Save Note</button>
                <button class="modal-btn download-btn" id="downloadTextNote">
                    <i class="fas fa-download"></i> Download Text Note
                </button>
                <button class="modal-btn download-btn" id="downloadDrawingNote">
                    <i class="fas fa-download"></i> Download Drawing
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const subjectCells = document.querySelectorAll('.subject-cell');
            const noteModal = document.getElementById('noteModal');
            const modalTitle = document.getElementById('modalTitle');
            const noteTextarea = document.getElementById('noteTextarea');
            const saveNoteBtn = document.getElementById('saveNote');
            const downloadTextNoteBtn = document.getElementById('downloadTextNote');
            const downloadDrawingNoteBtn = document.getElementById('downloadDrawingNote');
            const downloadAllNotesBtn = document.getElementById('downloadAllNotes');
            const closeBtn = document.querySelector('.close-btn');
            const lastSavedTime = document.getElementById('lastSavedTime');
            const tabs = document.querySelectorAll('.tab');
            const textTab = document.getElementById('textTab');
            const drawingTab = document.getElementById('drawingTab');
            
            const canvas = document.getElementById('drawingCanvas');
            const ctx = canvas.getContext('2d');
            const penTool = document.getElementById('penTool');
            const eraserTool = document.getElementById('eraserTool');
            const drawingColor = document.getElementById('drawingColor');
            const lineWidth = document.getElementById('lineWidth');
            const clearCanvasBtn = document.getElementById('clearCanvas');
            
            let currentCell = null;
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let currentTool = 'pen';
            let currentColor = '#d4af37';
            let currentLineWidth = 5;
            
            function formatDateTime(date) {
                const options = { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric',
                    hour: '2-digit', 
                    minute: '2-digit'
                };
                return date.toLocaleString(undefined, options);
            }
            
            function getNoteData(key) {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : null;
            }
            
            function saveNoteData(key, content, drawingData = null) {
                const now = new Date();
                const noteData = {
                    content: content,
                    drawing: drawingData,
                    timestamp: now.toISOString(),
                    formatted: formatDateTime(now)
                };
                localStorage.setItem(key, JSON.stringify(noteData));
                return noteData;
            }
            
            subjectCells.forEach(cell => {
                const day = cell.dataset.day;
                const time = cell.dataset.time;
                const key = `${day}-${time}`;
                const noteData = getNoteData(key);
                
                if (noteData) {
                    if (noteData.content && noteData.content.trim()) {
                        cell.classList.add('has-note');
                    }
                    if (noteData.drawing) {
                        cell.classList.add('has-drawing');
                    }
                    
                    const timestampEl = document.createElement('span');
                    timestampEl.className = 'note-timestamp';
                    timestampEl.textContent = noteData.formatted;
                    cell.appendChild(timestampEl);
                }
            });
            
            subjectCells.forEach(cell => {
                cell.addEventListener('click', function() {
                    const subjectName = this.querySelector('.subject-name').textContent;
                    const day = this.dataset.day;
                    const time = this.dataset.time;
                    const key = `${day}-${time}`;
                    
                    currentCell = this;
                    modalTitle.textContent = `${subjectName} on ${day} (${time})`;
                    
                    const noteData = getNoteData(key);
                    noteTextarea.value = noteData ? noteData.content : '';
                    
                    lastSavedTime.textContent = noteData ? noteData.formatted : 'Never';
                    
                    setupCanvas();
                    
                    if (noteData && noteData.drawing) {
                        loadDrawing(noteData.drawing);
                    } else {
                        clearCanvasDrawing();
                    }
                    
                    noteModal.style.display = 'flex';
                });
            });
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    const tabId = this.dataset.tab;
                    textTab.classList.remove('active');
                    drawingTab.classList.remove('active');
                    
                    if (tabId === 'text') {
                        textTab.classList.add('active');
                    } else {
                        drawingTab.classList.add('active');
                        setTimeout(setupCanvas, 50);
                    }
                });
            });
            
            function setupCanvas() {
                const container = drawingTab.querySelector('.canvas-wrapper');
                canvas.width = container.clientWidth;
                canvas.height = container.clientHeight;
                
                ctx.lineJoin = 'round';
                ctx.lineCap = 'round';
                ctx.lineWidth = currentLineWidth;
                ctx.strokeStyle = currentColor;
            }
            
            function startDrawing(e) {
                isDrawing = true;
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }
            
            function draw(e) {
                if (!isDrawing) return;
                
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }
            
            function stopDrawing() {
                isDrawing = false;
            }
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            penTool.addEventListener('click', () => {
                setActiveTool('pen');
                ctx.globalCompositeOperation = 'source-over';
                ctx.strokeStyle = currentColor;
            });
            
            eraserTool.addEventListener('click', () => {
                setActiveTool('eraser');
                ctx.globalCompositeOperation = 'destination-out';
                ctx.strokeStyle = 'rgba(0,0,0,1)';
            });
            
            drawingColor.addEventListener('input', () => {
                currentColor = drawingColor.value;
                if (currentTool === 'pen') {
                    ctx.strokeStyle = currentColor;
                }
            });
            
            lineWidth.addEventListener('input', () => {
                currentLineWidth = lineWidth.value;
                ctx.lineWidth = currentLineWidth;
            });
            
            clearCanvasBtn.addEventListener('click', clearCanvasDrawing);
            
            function setActiveTool(tool) {
                currentTool = tool;
                penTool.classList.remove('active');
                eraserTool.classList.remove('active');
                
                if (tool === 'pen') {
                    penTool.classList.add('active');
                } else {
                    eraserTool.classList.add('active');
                }
            }
            
            function clearCanvasDrawing() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
            
            function loadDrawing(dataURL) {
                const img = new Image();
                img.onload = function() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.drawImage(img, 0, 0);
                };
                img.src = dataURL;
            }
            
            saveNoteBtn.addEventListener('click', function() {
                if (!currentCell) return;
                
                const day = currentCell.dataset.day;
                const time = currentCell.dataset.time;
                const key = `${day}-${time}`;
                const noteContent = noteTextarea.value;
            
                const drawingData = canvas.toDataURL();
                
                if (noteContent.trim() || drawingData) {
                    const noteData = saveNoteData(key, noteContent, drawingData);
                    
                    currentCell.classList.remove('has-note', 'has-drawing');
                    
                    if (noteContent.trim()) {
                        currentCell.classList.add('has-note');
                    }
                    
                    if (drawingData) {
                        currentCell.classList.add('has-drawing');
                    }
                    
                    let timestampEl = currentCell.querySelector('.note-timestamp');
                    if (!timestampEl) {
                        timestampEl = document.createElement('span');
                        timestampEl.className = 'note-timestamp';
                        currentCell.appendChild(timestampEl);
                    }
                    timestampEl.textContent = noteData.formatted;
                    
                    lastSavedTime.textContent = noteData.formatted;
                    
                    const originalText = saveNoteBtn.textContent;
                    saveNoteBtn.innerHTML = '<i class="fas fa-check"></i> Saved!';
                    setTimeout(() => {
                        saveNoteBtn.innerHTML = originalText;
                    }, 2000);
                } else {
                    localStorage.removeItem(key);
                    currentCell.classList.remove('has-note', 'has-drawing');
                    
                    const timestampEl = currentCell.querySelector('.note-timestamp');
                    if (timestampEl) {
                        timestampEl.remove();
                    }
                    
                    lastSavedTime.textContent = 'Never';
                }
            });
            
            downloadTextNoteBtn.addEventListener('click', function() {
                if (!currentCell) return;

                const subjectName = currentCell.querySelector('.subject-name').textContent;
                const day = currentCell.dataset.day;
                const time = currentCell.dataset.time;
                const noteContent = noteTextarea.value;

                if (!noteContent.trim()) {
                    alert('No text note to download!');
                    return;
                }
                
                const key = `${day}-${time}`;
                const noteData = getNoteData(key);
                const lastSaved = noteData ? noteData.formatted : 'Not saved yet';
                const downloadTime = formatDateTime(new Date());

                const filename = `${subjectName} Notes (${day} ${time}).txt`;
                const fileContent = 
`Subject: ${subjectName}
Day: ${day}
Time: ${time}
Last Saved: ${lastSaved}
Downloaded: ${downloadTime}

Notes:
${noteContent}`;

                downloadTextFile(fileContent, filename);
            });
            
            downloadDrawingNoteBtn.addEventListener('click', function() {
                if (!currentCell) return;
                
                const subjectName = currentCell.querySelector('.subject-name').textContent;
                const day = currentCell.dataset.day;
                const time = currentCell.dataset.time;
                const key = `${day}-${time}`;
                const drawingData = canvas.toDataURL();

                if (!drawingData) {
                    alert('No drawing to download!');
                    return;
                }
                const filename = `${subjectName} Drawing (${day} ${time}).png`;
                downloadImageFile(drawingData, filename);
            });

            downloadAllNotesBtn.addEventListener('click', function() {
                const notes = [];
                let noteCount = 0;
                
                subjectCells.forEach(cell => {
                    const day = cell.dataset.day;
                    const time = cell.dataset.time;
                    const key = `${day}-${time}`;
                    const noteData = getNoteData(key);
                    
                    if (noteData) {
                        const subjectName = cell.querySelector('.subject-name').textContent;
                        const teacherName = cell.querySelector('.teacher-name')?.textContent || '';
                        
                        notes.push(`Subject: ${subjectName}`);
                        notes.push(`Teacher: ${teacherName}`);
                        notes.push(`Day: ${day}`);
                        notes.push(`Time: ${time}`);
                        notes.push(`Last Saved: ${noteData.formatted}`);
                        notes.push(`Notes:\n${noteData.content || 'No text note'}`);
                        notes.push('-'.repeat(60));
                        
                        noteCount++;
                    }
                });
                
                if (noteCount === 0) {
                    alert('No notes to download!');
                    return;
                }
                
                const filename = `All_Notes_${new Date().toISOString().slice(0, 10)}.txt`;
                const fileContent = notes.join('\n');
                
                downloadTextFile(fileContent, filename);
            });
            
            closeBtn.addEventListener('click', function() {
                noteModal.style.display = 'none';
            });
            
            window.addEventListener('click', function(event) {
                if (event.target === noteModal) {
                    noteModal.style.display = 'none';
                }
            });
            
            function downloadTextFile(content, filename) {
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
            }
            
            function downloadImageFile(dataUrl, filename) {
                const a = document.createElement('a');
                a.href = dataUrl;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
            
            window.addEventListener('resize', () => {
                if (drawingTab.classList.contains('active')) {
                    setupCanvas();
                }
            });
        });
    </script>
</body>
</html>
